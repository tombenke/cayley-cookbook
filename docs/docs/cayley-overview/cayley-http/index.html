<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="The cayley http command #  Maybe the cayley http is the most well known, and most frequently used command. It is an application, which contains the quad-store, the query engines and a HTTP server, that provides all of the functionalities through a REST API for utilities and 3rd-party applications, as well as provides a web-based graphical UI for the end users.
The Figure 1. shows all the components that can be used together with the Cayley running in the cayley http mode.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="The `cayley http` command" />
<meta property="og:description" content="The cayley http command #  Maybe the cayley http is the most well known, and most frequently used command. It is an application, which contains the quad-store, the query engines and a HTTP server, that provides all of the functionalities through a REST API for utilities and 3rd-party applications, as well as provides a web-based graphical UI for the end users.
The Figure 1. shows all the components that can be used together with the Cayley running in the cayley http mode." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-http/" />

<title>The `cayley http` command | Cayley-CookBook</title>
<link rel="manifest" href="/cayley-cookbook/manifest.json">
<link rel="icon" href="/cayley-cookbook/favicon.png" type="image/x-icon">
<link rel="alternate" hreflang="hu" href="https://tombenke.github.io/cayley-cookbook/hu/docs/cayley-overview/cayley-http/" title="A `cayley http` parancs">

<link rel="stylesheet" href="/cayley-cookbook/book.min.30101658b7fd2af4165ac337cc856f95777f11e1a2290c5a499f2f71d62e619e.css" integrity="sha256-MBAWWLf9KvQWWsM3zIVvlXd/EeGiKQxaSZ8vcdYuYZ4=">
<script defer src="/cayley-cookbook/en.search.min.358c99080e4fed27eb2f548d1f9b425fa90063a181c65b47d4824a94f886b58d.js" integrity="sha256-NYyZCA5P7SfrL1SNH5tCX6kAY6GBxltH1IJKlPiGtY0="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177858708-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/cayley-cookbook"><span>Cayley-CookBook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/about/" class="">About</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0b4b91c3e895b5b421f3a9ca328085e2" class="toggle"  />
    <label for="section-0b4b91c3e895b5b421f3a9ca328085e2" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/" class="">Basic Concepts</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e5b7d94586a2a74330ea93134dc430d" class="toggle"  />
    <label for="section-9e5b7d94586a2a74330ea93134dc430d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/graph-based-data-model/" class="">Graph Based Data Model</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86ea22ee388a68f5f8258db6deedc9cf" class="toggle"  />
    <label for="section-86ea22ee388a68f5f8258db6deedc9cf" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/resources/" class="">Resources</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6b04320f1df6b5bc1c81a51e4d013cc1" class="toggle"  />
    <label for="section-6b04320f1df6b5bc1c81a51e4d013cc1" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/statements/" class="">Statements</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-535a835799ee5396945be16dc8aca8ca" class="toggle"  />
    <label for="section-535a835799ee5396945be16dc8aca8ca" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/vocabularies/" class="">Vocabularies</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-621dac7ed1f558b46cb004b04e59790c" class="toggle"  />
    <label for="section-621dac7ed1f558b46cb004b04e59790c" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/rdf-graphs/" class="">Knowledge-Graph Representations</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c884cc905859feaeeba34abb45b69022" class="toggle" checked />
    <label for="section-c884cc905859feaeeba34abb45b69022" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/" class="">Cayley Overview</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8d961dabcc784e5f545055da7d36d04e" class="toggle"  />
    <label for="section-8d961dabcc784e5f545055da7d36d04e" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-convert/" class="">The `cayley convert` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-97f12c3cdfd7240aa4c86056b0003f88" class="toggle"  />
    <label for="section-97f12c3cdfd7240aa4c86056b0003f88" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-init/" class="">The `cayley init` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-91a5cf1c44b66e29df3dfb08aee97c1d" class="toggle"  />
    <label for="section-91a5cf1c44b66e29df3dfb08aee97c1d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-load/" class="">The `cayley load` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-40eaa83532b4f601a22562f349d2de4e" class="toggle"  />
    <label for="section-40eaa83532b4f601a22562f349d2de4e" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-dump/" class="">The `cayley dump` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d86babfe8513d744f11e1bf56539f885" class="toggle"  />
    <label for="section-d86babfe8513d744f11e1bf56539f885" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-repl/" class="">The `cayley repl` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d4f6be28690d5894cb2b564dd4cf3a8" class="toggle"  />
    <label for="section-4d4f6be28690d5894cb2b564dd4cf3a8" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-query/" class="">The `cayley query` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-74ec165895f19ac3241763c948bc108d" class="toggle" checked />
    <label for="section-74ec165895f19ac3241763c948bc108d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-http/" class="active">The `cayley http` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aad6527c2cf64cdfc3adbe8910fa4a67" class="toggle"  />
    <label for="section-aad6527c2cf64cdfc3adbe8910fa4a67" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/" class="">Working with Knowledge Graph</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2028abdf26cc5b139add5143f4cc6b64" class="toggle"  />
    <label for="section-2028abdf26cc5b139add5143f4cc6b64" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/" class="">Namespaces and Vocabularies</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/list-namespaces/" class="">List Registered Namespaces</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/register-namespace/" class="">Register a New Namespace</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/vocabularies/" class="">Create a New Vocabulary</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-18a767c6ada8c94d02aae63a7c5b98db" class="toggle"  />
    <label for="section-18a767c6ada8c94d02aae63a7c5b98db" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/" class="">Stores</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/create-store/" class="">Create Store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/make-quads/" class="">Make Quads</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/print-all-nodes/" class="">List all nodes from store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/print-all-quads/" class="">List all quads from store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/internals/" class="">The internal representation of nodes and quads</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6fb278fba30cb42d5051d7bb126bed5a" class="toggle"  />
    <label for="section-6fb278fba30cb42d5051d7bb126bed5a" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/" class="">Data import / export</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-22d669f3dc7ec740774b069c51439188" class="toggle"  />
    <label for="section-22d669f3dc7ec740774b069c51439188" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/quads/" class="">Quads export</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-355d6ceebb84ea9f80e9744bb3108788" class="toggle"  />
    <label for="section-355d6ceebb84ea9f80e9744bb3108788" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/schema/" class="">Data import / export via struct annotation</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ce0866132ec415c74e2fabd79f09c553" class="toggle"  />
    <label for="section-ce0866132ec415c74e2fabd79f09c553" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/" class="">Queries</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/find_all_vertices/" class="">Find All Vertices</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/find_all_predicates/" class="">Find All Predicates</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/bidirectional/" class="">Bi-directional Relations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-94011c4e55e5dcfb025b2accbe0fb8fc" class="toggle"  />
    <label for="section-94011c4e55e5dcfb025b2accbe0fb8fc" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/bookmarks/" class="">Find bookmarks by tags</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8dfa2f16ea7363ff2e8c8591723568c1" class="toggle"  />
    <label for="section-8dfa2f16ea7363ff2e8c8591723568c1" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/crud-operations/" class="">CRUD Operations</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86c4d36bccd05af5655cecc8eaf31df9" class="toggle"  />
    <label for="section-86c4d36bccd05af5655cecc8eaf31df9" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/transactions/" class="">Transactions</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/cayley-cookbook/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>The `cayley http` command</strong>

  <label for="toc-control">
    
    <img src="/cayley-cookbook/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#starting-the-cayley-http-server">Starting the Cayley HTTP Server</a>
      <ul>
        <li><a href="#start-with-default-settings">Start with default settings</a></li>
        <li><a href="#start-with-in-memory-store-with-automatic-data-loading">Start with in-memory store with automatic data loading</a></li>
        <li><a href="#start-with-persistent-store-including-data">Start with persistent store, including data</a></li>
      </ul>
    </li>
    <li><a href="#the-web-ui">The web UI</a></li>
    <li><a href="#data-import-and-export">Data import and export</a></li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="the-cayley-http-command">
  The <code>cayley http</code> command
  <a class="anchor" href="#the-cayley-http-command">#</a>
</h1>
<p>Maybe the <code>cayley http</code> is the most well known, and most frequently used command.
It is an application, which contains the quad-store, the query engines and a HTTP server, that provides all of the functionalities through a REST API for utilities and 3rd-party applications, as well as provides a web-based graphical UI for the end users.</p>
<p>The Figure 1. shows all the components that can be used together with the <a href="https://cayley.io/" target="_blank">Cayley</a>
 running in the  <code>cayley http</code> mode.</p>
<figure>
    <img src="/cayley-cookbook/cayley-http.png"/> <figcaption>
            <h4>Figure 1.: cayley http</h4>
        </figcaption>
</figure>

<p>The <code>cayley http</code> exposes REST API endpoints which are described in the <a href="https://cayley.gitbook.io/cayley/usage/http">official documentation</a>. See also the <a href="https://cayley.gitbook.io/cayley/usage/3rd-party-apis">documentation pages of the 3rd party APIs</a> avaiable for accessing to the <code>cayley http</code> server.</p>
<h2 id="starting-the-cayley-http-server">
  Starting the Cayley HTTP Server
  <a class="anchor" href="#starting-the-cayley-http-server">#</a>
</h2>
<h3 id="start-with-default-settings">
  Start with default settings
  <a class="anchor" href="#start-with-default-settings">#</a>
</h3>
<p>The execution of the <code>cayley http</code> command starts the server with the default settings:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ cayley http

    I0916 08:00:12.107989    <span style="color:#ae81ff">6702</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:00:12.108196    <span style="color:#ae81ff">6702</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;memstore&#34;</span>
    I0916 08:00:12.108322    <span style="color:#ae81ff">6702</span> http.go:197<span style="color:#f92672">]</span> using assets from <span style="color:#e6db74">&#34;/snap/cayley/2&#34;</span>
    I0916 08:00:12.108805    <span style="color:#ae81ff">6702</span> http.go:42<span style="color:#f92672">]</span> listening on 127.0.0.1:64210, web interface at http://127.0.0.1:64210

</code></pre></div><p>The server uses an in-memory database, and the store will be empty. The server will listen on the <code>64210</code> port by default. We can open the <code>http://127.0.0.1:64210</code> URL with a browser, then the web UI will appear, where we can run queries on the database.</p>
<h3 id="start-with-in-memory-store-with-automatic-data-loading">
  Start with in-memory store with automatic data loading
  <a class="anchor" href="#start-with-in-memory-store-with-automatic-data-loading">#</a>
</h3>
<p>We can tell to the <code>cayley http</code> to load data into the store immediately after starting it. We can use the <code>--load &lt;data-file-path&gt;</code> argument for this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ cayley http --load data/testdata.nq 
    I0916 08:10:40.473364    <span style="color:#ae81ff">7087</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:10:40.473602    <span style="color:#ae81ff">7087</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;memstore&#34;</span>
    I0916 08:10:40.473935    <span style="color:#ae81ff">7087</span> database.go:250<span style="color:#f92672">]</span> loaded <span style="color:#e6db74">&#34;data/testdata.nq&#34;</span> in 266.525µs
    I0916 08:10:40.474084    <span style="color:#ae81ff">7087</span> http.go:197<span style="color:#f92672">]</span> using assets from <span style="color:#e6db74">&#34;/snap/cayley/2&#34;</span>
    I0916 08:10:40.474498    <span style="color:#ae81ff">7087</span> http.go:42<span style="color:#f92672">]</span> listening on 127.0.0.1:64210, web interface at http://127.0.0.1:64210

</code></pre></div><p>The data will be available immediately for querying through both the UI and through the REST API for the client applications. Yet the store is in-memory.</p>
<h3 id="start-with-persistent-store-including-data">
  Start with persistent store, including data
  <a class="anchor" href="#start-with-persistent-store-including-data">#</a>
</h3>
<p>The <code>cayley http</code> can be started with a persistent database as well. Here we have two options:</p>
<ol>
<li>We initialize an empty persistent store, and may also load data into it immediately after the database has been created.</li>
<li>Open a previously created persistent store, that may be empty or filled with some data. To prepare such a database we can use the <code>cayley init</code> and <code>cayley load</code> commands.</li>
</ol>
<p>Start an empty persistent store, and load data into it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ cayley http --init --db bolt --dbpath /home/tombenke/tmp/cayley/ --load data/testdata.nq 
    I0916 08:20:05.039047    <span style="color:#ae81ff">7367</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:20:05.039234    <span style="color:#ae81ff">7367</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;bolt&#34;</span> <span style="color:#f92672">(</span>/home/tombenke/tmp/cayley/<span style="color:#f92672">)</span>
    I0916 08:20:05.070109    <span style="color:#ae81ff">7367</span> database.go:250<span style="color:#f92672">]</span> loaded <span style="color:#e6db74">&#34;data/testdata.nq&#34;</span> in 9.150519ms
    I0916 08:20:05.070347    <span style="color:#ae81ff">7367</span> http.go:197<span style="color:#f92672">]</span> using assets from <span style="color:#e6db74">&#34;/snap/cayley/2&#34;</span>
    I0916 08:20:05.071829    <span style="color:#ae81ff">7367</span> http.go:42<span style="color:#f92672">]</span> listening on 127.0.0.1:64210, web interface at http://127.0.0.1:64210
    I0916 08:20:11.371920    <span style="color:#ae81ff">7367</span> http.go:100<span style="color:#f92672">]</span> started POST /api/v1/query/gizmo <span style="color:#66d9ef">for</span> 127.0.0.1:39426
    I0916 08:20:11.372573    <span style="color:#ae81ff">7367</span> http.go:102<span style="color:#f92672">]</span> completed <span style="color:#ae81ff">200</span> OK /api/v1/query/gizmo in 666.087µs
    I0916 08:20:17.928216    <span style="color:#ae81ff">7367</span> http.go:100<span style="color:#f92672">]</span> started POST /api/v1/query/gizmo <span style="color:#66d9ef">for</span> 127.0.0.1:39426
    I0916 08:20:17.932551    <span style="color:#ae81ff">7367</span> http.go:102<span style="color:#f92672">]</span> completed <span style="color:#ae81ff">200</span> OK /api/v1/query/gizmo in 4.335239ms

</code></pre></div><p>Prepare a persistent store with <code>init</code> and <code>load</code>, start the <code>http</code> server, using it:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ cayley init --db bolt --dbpath /home/tombenke/tmp/cayley/
    I0916 08:21:00.701903    <span style="color:#ae81ff">7460</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:21:00.702107    <span style="color:#ae81ff">7460</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;bolt&#34;</span> <span style="color:#f92672">(</span>/home/tombenke/tmp/cayley/<span style="color:#f92672">)</span>

    $ cayley load --db bolt --dbpath /home/tombenke/tmp/cayley/ --load data/testdata.nq
    I0916 08:21:42.843042    <span style="color:#ae81ff">7509</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:21:42.843269    <span style="color:#ae81ff">7509</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;bolt&#34;</span> <span style="color:#f92672">(</span>/home/tombenke/tmp/cayley/<span style="color:#f92672">)</span>

    $ cayley http --db bolt --dbpath /home/tombenke/tmp/cayley/
    I0916 08:22:08.376538    <span style="color:#ae81ff">7573</span> cayley.go:63<span style="color:#f92672">]</span> Cayley version: 0.7.5 <span style="color:#f92672">(</span>cf576babb7db<span style="color:#f92672">)</span>
    I0916 08:22:08.376726    <span style="color:#ae81ff">7573</span> database.go:187<span style="color:#f92672">]</span> using backend <span style="color:#e6db74">&#34;bolt&#34;</span> <span style="color:#f92672">(</span>/home/tombenke/tmp/cayley/<span style="color:#f92672">)</span>
    I0916 08:22:08.379455    <span style="color:#ae81ff">7573</span> http.go:197<span style="color:#f92672">]</span> using assets from <span style="color:#e6db74">&#34;/snap/cayley/2&#34;</span>
    I0916 08:22:08.380016    <span style="color:#ae81ff">7573</span> http.go:42<span style="color:#f92672">]</span> listening on 127.0.0.1:64210, web interface at http://127.0.0.1:64210

</code></pre></div><p>In both cases, we will be able to reach the same database content through the HTTP server.</p>
<blockquote class="book-hint info">
  <p><strong>Note:</strong></p>
<p>Both the <code>cayley load</code> and <code>cayley save</code> can be used to store data into, and dump from the database that the <code>cayley http</code> uses, however it can happen only in case the server is stopped. That is why these utilities are connected via dotted line on Figure 1.</p>

</blockquote>

<h2 id="the-web-ui">
  The web UI
  <a class="anchor" href="#the-web-ui">#</a>
</h2>
<p>Start the <code>cayley http</code> server either with an in-memory or persistent database, that has data loaded into it (according to examples of the previous subsections), then open the <code>http://127.0.0.1:64210</code> URL with a browser. In the text area on the right top, enter the <code>g.V().GetLimit(2)</code> query expression, then press the &ldquo;Run Query&rdquo; button on the left. The results will appear on the right bottom part of the window, as you can see on Figure 2.</p>
<figure>
    <img src="/cayley-cookbook/cayley-http-ui.png"/> <figcaption>
            <h4>Figure 2.: cayley http UI</h4>
        </figcaption>
</figure>

<p>See the <a href="https://cayley.gitbook.io/cayley/usage/ui-overview">official documentation on the UI</a> for further details:</p>
<h2 id="data-import-and-export">
  Data import and export
  <a class="anchor" href="#data-import-and-export">#</a>
</h2>
<p>If you want to upload data into the database, or want to dumt the database, meanwhile the <code>cayley http</code> server is working, you have to use the REST interface. There are two utilities, that you can find in the source code of <a href="https://cayley.io/" target="_blank">Cayley</a>
: <a href="https://github.com/cayleygraph/cayley/tree/master/cmd/cayleyimport"><code>cayleyimport</code></a> and <a href="https://github.com/cayleygraph/cayley/tree/master/cmd/cayleyexport"><code>cayleyexport</code></a>.</p>
<p>Clone the <a href="https://github.com/cayleygraph/cayley">cayleygraph/cayley</a>, and you can run these utilities with the <code>go run</code> command, as the examples show below.</p>
<p>Import data to the database, through the REST API:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ go run &lt;path-to-the-cayley-source&gt;/cmd/cayleyimport/cayleyimport.go data/testdata.nq 
    Successfully wrote <span style="color:#ae81ff">15</span> quads.


</code></pre></div><p>Export data from the database, into a file, through the REST API:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    go run &lt;path-to-the-cayley-source&gt;/cmd/cayleyexport/cayleyexport.go -o out.nq

</code></pre></div><p>Export data from the database, to the standard output, through the REST API. Since there is no output file name is defined, the utility can not determine the format, so we need to set it by the <code>--format</code> argument:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">
    $ go run ~/sandbox/cayley/cayley/cmd/cayleyexport/cayleyexport.go --format jsonld
    <span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;alice&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;bob&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;bob&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;fred&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;status&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@value&#34;</span>:<span style="color:#e6db74">&#34;cool_person&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;charlie&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;bob&#34;</span><span style="color:#f92672">}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;dani&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;dani&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;bob&#34;</span><span style="color:#f92672">}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;greg&#34;</span><span style="color:#f92672">}]</span>,<span style="color:#e6db74">&#34;status&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@value&#34;</span>:<span style="color:#e6db74">&#34;cool_person&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;emily&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;fred&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;fred&#34;</span>,<span style="color:#e6db74">&#34;follows&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;greg&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;greg&#34;</span>,<span style="color:#e6db74">&#34;status&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@value&#34;</span>:<span style="color:#e6db74">&#34;cool_person&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;predicates&#34;</span>,<span style="color:#e6db74">&#34;are&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;follows&#34;</span><span style="color:#f92672">}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;status&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@graph&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;emily&#34;</span>,<span style="color:#e6db74">&#34;status&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@value&#34;</span>:<span style="color:#e6db74">&#34;smart_person&#34;</span><span style="color:#f92672">}]}</span>,<span style="color:#f92672">{</span><span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;greg&#34;</span>,<span style="color:#e6db74">&#34;status&#34;</span>:<span style="color:#f92672">[{</span><span style="color:#e6db74">&#34;@value&#34;</span>:<span style="color:#e6db74">&#34;smart_person&#34;</span><span style="color:#f92672">}]}]</span>,<span style="color:#e6db74">&#34;@id&#34;</span>:<span style="color:#e6db74">&#34;smart_graph&#34;</span><span style="color:#f92672">}]</span>

</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  


  

  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
      English
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="https://tombenke.github.io/cayley-cookbook/" class="flex align-center">
        <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
    <li class="">
      <a href="https://tombenke.github.io/cayley-cookbook/hu/docs/cayley-overview/cayley-http/" class="flex align-center">
        <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
        Magyar
      </a>
    </li>
    
  </ul>
</div>






</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#starting-the-cayley-http-server">Starting the Cayley HTTP Server</a>
      <ul>
        <li><a href="#start-with-default-settings">Start with default settings</a></li>
        <li><a href="#start-with-in-memory-store-with-automatic-data-loading">Start with in-memory store with automatic data loading</a></li>
        <li><a href="#start-with-persistent-store-including-data">Start with persistent store, including data</a></li>
      </ul>
    </li>
    <li><a href="#the-web-ui">The web UI</a></li>
    <li><a href="#data-import-and-export">Data import and export</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












