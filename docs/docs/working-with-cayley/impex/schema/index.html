<!DOCTYPE html>
<html lang="en" dir=>

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Data import / export via struct annotation #  Structure annotations #  This section demonstrates how can we convert simple or complex objects and their properties to quads. it also shows how can we directly upload these data structures to the store, using the annotations placed into the struct declarations ob the objects. Moreover there are examples to the retrieval of these complex objects from the store.
Within this method it is much easier to store/retrieve complex data structures, than doing it directly with the quads that these data structures are made of, and collecting their properties one-by-one.">
<meta name="theme-color" content="#FFFFFF"><meta property="og:title" content="Data import / export via struct annotation" />
<meta property="og:description" content="Data import / export via struct annotation #  Structure annotations #  This section demonstrates how can we convert simple or complex objects and their properties to quads. it also shows how can we directly upload these data structures to the store, using the annotations placed into the struct declarations ob the objects. Moreover there are examples to the retrieval of these complex objects from the store.
Within this method it is much easier to store/retrieve complex data structures, than doing it directly with the quads that these data structures are made of, and collecting their properties one-by-one." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/schema/" />

<title>Data import / export via struct annotation | Cayley-CookBook</title>
<link rel="manifest" href="/cayley-cookbook/manifest.json">
<link rel="icon" href="/cayley-cookbook/favicon.png" type="image/x-icon">
<link rel="alternate" hreflang="hu" href="https://tombenke.github.io/cayley-cookbook/hu/docs/working-with-cayley/impex/schema/" title="Adat import / export struct annotációval">

<link rel="stylesheet" href="/cayley-cookbook/book.min.30101658b7fd2af4165ac337cc856f95777f11e1a2290c5a499f2f71d62e619e.css" integrity="sha256-MBAWWLf9KvQWWsM3zIVvlXd/EeGiKQxaSZ8vcdYuYZ4=">
<script defer src="/cayley-cookbook/en.search.min.ec9eeff56cefbb4e1682d18cc51a362b2c75c6fa76305732e452892e7cc27507.js" integrity="sha256-7J7v9Wzvu04WgtGMxRo2Kyx1xvp2MFcy5FKJLnzCdQc="></script>

<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-177858708-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->

  
</head>

<body dir=>
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      
  <nav>
<h2 class="book-brand">
  <a href="/cayley-cookbook"><span>Cayley-CookBook</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>











  



  
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/about/" class="">About</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-0b4b91c3e895b5b421f3a9ca328085e2" class="toggle"  />
    <label for="section-0b4b91c3e895b5b421f3a9ca328085e2" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/" class="">Basic Concepts</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-9e5b7d94586a2a74330ea93134dc430d" class="toggle"  />
    <label for="section-9e5b7d94586a2a74330ea93134dc430d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/graph-based-data-model/" class="">Graph Based Data Model</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86ea22ee388a68f5f8258db6deedc9cf" class="toggle"  />
    <label for="section-86ea22ee388a68f5f8258db6deedc9cf" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/resources/" class="">Resources</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6b04320f1df6b5bc1c81a51e4d013cc1" class="toggle"  />
    <label for="section-6b04320f1df6b5bc1c81a51e4d013cc1" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/statements/" class="">Statements</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-535a835799ee5396945be16dc8aca8ca" class="toggle"  />
    <label for="section-535a835799ee5396945be16dc8aca8ca" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/vocabularies/" class="">Vocabularies</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-621dac7ed1f558b46cb004b04e59790c" class="toggle"  />
    <label for="section-621dac7ed1f558b46cb004b04e59790c" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/basic-concepts/rdf-graphs/" class="">Knowledge-Graph Representations</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-c884cc905859feaeeba34abb45b69022" class="toggle"  />
    <label for="section-c884cc905859feaeeba34abb45b69022" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/" class="">Cayley Overview</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8d961dabcc784e5f545055da7d36d04e" class="toggle"  />
    <label for="section-8d961dabcc784e5f545055da7d36d04e" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-convert/" class="">The `cayley convert` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-97f12c3cdfd7240aa4c86056b0003f88" class="toggle"  />
    <label for="section-97f12c3cdfd7240aa4c86056b0003f88" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-init/" class="">The `cayley init` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-91a5cf1c44b66e29df3dfb08aee97c1d" class="toggle"  />
    <label for="section-91a5cf1c44b66e29df3dfb08aee97c1d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-load/" class="">The `cayley load` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-40eaa83532b4f601a22562f349d2de4e" class="toggle"  />
    <label for="section-40eaa83532b4f601a22562f349d2de4e" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-dump/" class="">The `cayley dump` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-d86babfe8513d744f11e1bf56539f885" class="toggle"  />
    <label for="section-d86babfe8513d744f11e1bf56539f885" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-repl/" class="">The `cayley repl` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-4d4f6be28690d5894cb2b564dd4cf3a8" class="toggle"  />
    <label for="section-4d4f6be28690d5894cb2b564dd4cf3a8" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-query/" class="">The `cayley query` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-74ec165895f19ac3241763c948bc108d" class="toggle"  />
    <label for="section-74ec165895f19ac3241763c948bc108d" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/cayley-overview/cayley-http/" class="">The `cayley http` command</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-aad6527c2cf64cdfc3adbe8910fa4a67" class="toggle" checked />
    <label for="section-aad6527c2cf64cdfc3adbe8910fa4a67" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/" class="">Working with Knowledge Graph</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-f37e3708a287e9a8fdc264ab8747067e" class="toggle"  />
    <label for="section-f37e3708a287e9a8fdc264ab8747067e" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/graph_discovery/" class="">Discover and unknown graph</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-2028abdf26cc5b139add5143f4cc6b64" class="toggle"  />
    <label for="section-2028abdf26cc5b139add5143f4cc6b64" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/" class="">Namespaces and Vocabularies</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/list-namespaces/" class="">List Registered Namespaces</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/register-namespace/" class="">Register a New Namespace</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/ns-voc/vocabularies/" class="">Create a New Vocabulary</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-18a767c6ada8c94d02aae63a7c5b98db" class="toggle"  />
    <label for="section-18a767c6ada8c94d02aae63a7c5b98db" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/" class="">Stores</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/create-store/" class="">Create Store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/make-quads/" class="">Make Quads</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/print-all-nodes/" class="">List all nodes from store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/print-all-quads/" class="">List all quads from store</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/stores/internals/" class="">The internal representation of nodes and quads</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-6fb278fba30cb42d5051d7bb126bed5a" class="toggle" checked />
    <label for="section-6fb278fba30cb42d5051d7bb126bed5a" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/" class="">Data import / export</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-22d669f3dc7ec740774b069c51439188" class="toggle"  />
    <label for="section-22d669f3dc7ec740774b069c51439188" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/quads/" class="">Quads export</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-355d6ceebb84ea9f80e9744bb3108788" class="toggle" checked />
    <label for="section-355d6ceebb84ea9f80e9744bb3108788" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/impex/schema/" class="active">Data import / export via struct annotation</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-ce0866132ec415c74e2fabd79f09c553" class="toggle"  />
    <label for="section-ce0866132ec415c74e2fabd79f09c553" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/" class="">Queries</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/find_all_vertices/" class="">Find All Vertices</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/find_all_predicates/" class="">Find All Predicates</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/bidirectional/" class="">Bi-directional Relations</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-94011c4e55e5dcfb025b2accbe0fb8fc" class="toggle"  />
    <label for="section-94011c4e55e5dcfb025b2accbe0fb8fc" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/queries/bookmarks/" class="">Find bookmarks by tags</a>
      <span>▾</span>
    </label>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-8dfa2f16ea7363ff2e8c8591723568c1" class="toggle"  />
    <label for="section-8dfa2f16ea7363ff2e8c8591723568c1" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/crud-operations/" class="">CRUD Operations</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
      
        <li>
          
  
  

  
    <input type="checkbox" id="section-86c4d36bccd05af5655cecc8eaf31df9" class="toggle"  />
    <label for="section-86c4d36bccd05af5655cecc8eaf31df9" class="flex justify-between">
      <a href="https://tombenke.github.io/cayley-cookbook/docs/working-with-cayley/transactions/" class="">Transactions</a>
      <span>▾</span>
    </label>
  

          
  <ul>
    
  </ul>

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>















</nav>




  <script>(function(){var menu=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(event){localStorage.setItem("menu.scrollTop",menu.scrollTop);});menu.scrollTop=localStorage.getItem("menu.scrollTop");})();</script>


 
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/cayley-cookbook/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>Data import / export via struct annotation</strong>

  <label for="toc-control">
    
    <img src="/cayley-cookbook/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  <nav id="TableOfContents">
  <ul>
    <li><a href="#structure-annotations">Structure annotations</a></li>
    <li><a href="#create-store">Create store</a></li>
    <li><a href="#test-data">Test data</a></li>
    <li><a href="#define-structures-with-annotations">Define structures with annotations</a></li>
    <li><a href="#data-import-based-on-annotated-structures">Data import based on annotated structures</a></li>
    <li><a href="#data-export-based-on-annotated-structures">Data export based on annotated structures</a></li>
  </ul>
</nav>


  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="data-import--export-via-struct-annotation">
  Data import / export via struct annotation
  <a class="anchor" href="#data-import--export-via-struct-annotation">#</a>
</h1>
<h2 id="structure-annotations">
  Structure annotations
  <a class="anchor" href="#structure-annotations">#</a>
</h2>
<p>This section demonstrates how can we convert simple or complex objects and their properties to quads.
it also shows how can we directly upload these data structures to the store, using the annotations placed into the <code>struct</code> declarations ob the objects. Moreover there are examples to the retrieval of these complex objects from the store.</p>
<p>Within this method it is much easier to store/retrieve complex data structures, than doing it directly with the quads that these data structures are made of, and collecting their properties one-by-one.</p>
<h2 id="create-store">
  Create store
  <a class="anchor" href="#create-store">#</a>
</h2>
<p>In the examples we will use a simple in-memory store.
We can start using such a store via calling the <code>InitStore()</code> function, that we can find in the <code>store.go</code> file.</p>
<details >
  <summary>Show the source code of the `store.go`</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">kbase</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley&#34;</span>
	<span style="color:#e6db74">&#34;log&#34;</span>
)

<span style="color:#75715e">// Create a mem-store for testing
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">InitStore</span>() <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span> {
	<span style="color:#a6e22e">store</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">NewMemoryGraph</span>()
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalln</span>(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">store</span>
}

</code></pre></div>
  </div>
</details>

<h2 id="test-data">
  Test data
  <a class="anchor" href="#test-data">#</a>
</h2>
<p>The <code>bookmarks.yml</code> file holds the test data in YAML format. it contains a list of bookmarks.</p>
<p>We will upload these bookmarks, then we will query them. The results of the queries will be retrieved via the help of <code>struct</code> annotations.</p>
<details >
  <summary>Show the `bookmarks.yml` file</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml">- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">9493efb9-be9a-4435-9b5d-f605fc9cddaa</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Gremlin&#39;s Graph Traversal Machinery</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">gremlin, cayley, tinkerprop, gizmo, presentation, graph-db, query-language]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://www.slideshare.net/slidarko/gremlins-graph-traversal-machinery&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">d6481271-d42d-487c-bec9-733ff383e029</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Ontotext GraphDB</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">graphdb, nosql, knowledge-graph, linked-data, semantic-web, rdf]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://ontotext.com/products/graphdb/&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">058d41d5-6830-432b-8ebb-5733f8a2575b</span>
  <span style="color:#f92672">title: &#39;Graphs and neural networks</span>: <span style="color:#ae81ff">Reading node properties&#39;</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">David Mack</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">octavian-ai, graphs, neural-network, nlu, digital-assistant, dbms, brainputer,</span>
    <span style="color:#ae81ff">knowledge-graphs, graph-databases]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/octavian-ai/graphs-and-neural-networks-reading-node-properties-2c91625980eb&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">324bacb5-8709-42b9-b38b-93755c48ef19</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Towards building the next generation database query engine</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">David Mack</span>
  <span style="color:#f92672">published</span>: <span style="color:#ae81ff">Nov 12, 2018</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">octavian-ai, graphs, neural-network, nlu, digital-assistant, dbms, brainputer,</span>
    <span style="color:#ae81ff">knowledge-graphs, graph-databases]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/octavian-ai/towards-building-the-next-generation-database-query-engine-a1beca1e07a3&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">e0af0cdc-1795-482d-986e-96b08cc530f9</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">extracting-knowledge-from-knowledge-graphs</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">brainputer, pythorch, knowlendge-graph]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">2e75fc6a-148f-4016-a178-2a53a67e06c8</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Platypus</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">knowledge-graph, wikidata, cognition, cui, platypus]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/A_gentle_introduction_to_the_Wikidata_Query_Service&#39;</span>,
    <span style="color:#e6db74">&#39;https://www.wikidata.org/wiki/Wikidata:Main_Page&#39;</span>, <span style="color:#e6db74">&#39;https://hal.archives-ouvertes.fr/hal-01730479/document&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">46721a5a-0eda-48f4-b190-b1c2544146a4</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Grakn.AI - learn</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">grakn.ai, tutorials, blog, ai, inference-engine, knowledge-graph]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://blog.grakn.ai/learn/home&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">418b7162-fc1e-4dda-a6a5-80b9d4558f47</span>
  <span style="color:#f92672">title: &#39;KagNet</span>: <span style="color:#ae81ff">Knowledge-Aware Graph Networks for Commonsense Reasoning&#39;</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">kagnet, cognitive-computating, python, graphs, networks, knowledge-graph,</span>
    <span style="color:#ae81ff">tools, commonsense, reasoning]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://github.com/INK-USC/KagNet&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">a0b1b538-56e8-4fa9-a10b-be7c21ea2f90</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Knowledge extraction from unstructured texts</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">Heuritech</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">lstm, knowledge-graph, text-extraction, konwledge-extraction, heuritech,</span>
    <span style="color:#ae81ff">semantics, universal-schema, triplet-extraction, word2vec]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/heuritech/knowledge-extraction-from-unstructured-texts-c279e3b8f92f&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">0b82f944-3f8c-4206-953e-a0d2d256dd60</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Deep Learning with Knowledge Graphs</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">Andrew Jefferson</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">octavian, deep-neural-network, knowledge-graph, machine-learning, macgraph,</span>
    <span style="color:#ae81ff">brainputer]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">e0d790fd-03de-4522-9ebc-3b931db52288</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">MacGraph</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">octavian, deep-neural-network, knowledge-graph, machine-learning, macgraph,</span>
    <span style="color:#ae81ff">brainputer, github, repository]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://github.com/Octavian-ai/mac-graph&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">17217149-1274</span>-<span style="color:#ae81ff">4ea4-a5f2-9bd48e6003c5</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">octavian.ai</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">|
</span><span style="color:#e6db74">    We research new approaches to machine reasoning and graph-based learning.
</span><span style="color:#e6db74">    We&#39;re working to build machines that can answer useful questions, using neural reasoning and knowledge graphs. We write articles, give talks and host workshops about our work.
</span><span style="color:#e6db74">    We&#39;re an open-source research organization and welcome you to join us and contribute.
</span><span style="color:#e6db74">  author: &#34;&#34;
</span><span style="color:#e6db74">  published: &#34;&#34;
</span><span style="color:#e6db74">  tags: [octavian, machine-learning, open-source, research, graph, knowledge-graph,
</span><span style="color:#e6db74">    macgraph, brainputer]
</span><span style="color:#e6db74">  urls: [&#39;https://www.octavian.ai/&#39;]</span>
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">955d0202-d259-46c7-b71b-eb2434da2058</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Build your own Knowledge Graph From unstructured dark data to valuable business</span>
    <span style="color:#ae81ff">insights</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">Ignaz Wanders</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">knowledge-graph, ai, machine-learning, ml, neo4j]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/vectrconsulting/build-your-own-knowledge-graph-975cf6dde67f&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">b34b66d4-81d2-4449-a049-4cb29fdc8f75</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Extracting knowledge from knowledge graphs using Facebook Pytorch BigGraph.</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">knowledge-graph, kg, ai, graphs, facebook, pytorch, biggraph]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">af631947-2a60-4ce6-a1a9-0b7ab88b9cfb</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Deep Learning with Knowledge Graphs</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">deep-learning, ml, machine-learning, knowledge-graph, ai]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">f020ade1-4824-4c47-95c4-527c49fe2406</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Knowledge Graphs in Natural Language Processing @ ACL 2020</span>
  <span style="color:#f92672">content</span>: <span style="color:#ae81ff">State of the Art Mid 2020</span>
  <span style="color:#f92672">author</span>: <span style="color:#ae81ff">Michael Galkin</span>
  <span style="color:#f92672">published</span>: <span style="color:#ae81ff">Jul 10, 2020</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">ai, kg, knowledge-graphs, nlp, acl]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://towardsdatascience.com/knowledge-graphs-in-natural-language-processing-acl-2020-ebb1f0a6e0b1&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">a45c3713-89a4-44eb-947b-d0720d8ff9f4</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Blog-Rolling-with-BrightstarDB-Express-and-Node-js</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">brightstardb, rdf, triple-store, nodejs, .net, database]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://www.codeproject.com/Articles/419181/Blog-Rolling-with-BrightstarDB-Express-and-Node-js&#39;</span>,
    <span style="color:#e6db74">&#39;http://brightstardb.com/&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">fba5c188-4c20-4cc3-aa99-720662d58ab8</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">FOAF Vocabulary Specification 0.99</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">foaf, vocabulary, rdf]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;http://xmlns.com/foaf/spec/&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">8193a8a4-ae32-4867-924b-ecc9b856cad3</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">SuperMemo Website</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">|
</span><span style="color:#e6db74">    SuperMemo is a program that keeps track of discrete bits of information you&#39;ve learned and want to retain.
</span><span style="color:#e6db74">    SuperMemo tracks this so-called forgetting curve and reminds you to rehearse your knowledge when your chance of recalling it has dropped to, say, 90 percent.
</span><span style="color:#e6db74">    When you first learn a new vocabulary word, your chance of recalling it will drop quickly. But after SuperMemo reminds you of the word, the rate of forgetting levels out. The program tracks this new decline and waits longer to quiz you the next time.
</span><span style="color:#e6db74">  author: &#34;&#34;
</span><span style="color:#e6db74">  published: &#34;&#34;
</span><span style="color:#e6db74">  tags: [memory, learning, wozniak, brainputer, supermemo]
</span><span style="color:#e6db74">  urls: [&#39;https://www.supermemo.com/en/archives1990-2015/articles/devour&#39;]</span>
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">1d96dd4d-c30e-45a7-8f44-38dfb9a697f2</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Gellish.net</span>
  <span style="color:#f92672">content</span>: <span style="color:#ae81ff">Gellish is a standard language, methodology and tools for expressing information</span>
    <span style="color:#ae81ff">in a computer interpretable and system independent way. It enables exchange and</span>
    <span style="color:#ae81ff">integration of data among systems of multiple parties without the need for data</span>
    <span style="color:#ae81ff">conversions.</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">dictionary, gellish.net, gellish, nlp, cognitive-computing, electronic-dictionary,</span>
    <span style="color:#ae81ff">open-source, semantic-web, brainputer, robotics]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://www.gellish.net/&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">bdd898dc-76de-4a41-86b1-8757aff5fe6c</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Semantic Web and Model-Driven Engineering</span>
  <span style="color:#f92672">content</span>: <span style="color:#ae81ff">Too theoretical</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">architecture, system-design, ddd, domain-driven-design, soo-poc, semantic-web]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;http://www.allitebooks.org/semantic-web-and-model-driven-engineering/&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">1deb716d-4ca8-4834-a771-7c68e8844067</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">MRD, Machine Readable dictionary</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">mrd, dictionary, nlp, cognitive-computing]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://en.wikipedia.org/wiki/Machine-readable_dictionary&#39;</span>]
- <span style="color:#f92672">id</span>: <span style="color:#ae81ff">9493efb9-be9a-4435-9b5d-f605fc9cddaa</span>
  <span style="color:#f92672">title</span>: <span style="color:#ae81ff">Gremlin&#39;s Graph Traversal Machinery</span>
  <span style="color:#f92672">content</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">author</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">published</span>: <span style="color:#e6db74">&#34;&#34;</span>
  <span style="color:#f92672">tags</span>: [<span style="color:#ae81ff">gremlin, cayley, tinkerprop, gizmo, presentation, graph-db, query-language]</span>
  <span style="color:#f92672">urls</span>: [<span style="color:#e6db74">&#39;https://www.slideshare.net/slidarko/gremlins-graph-traversal-machinery&#39;</span>]

</code></pre></div>
  </div>
</details>

<p>In the <code>yaml.go</code> file, there is the <code>ReadFromYaml()</code> function, that we will use to read the data in.</p>
<p>The <code>yaml.go</code> contains two relevant functions:</p>
<ul>
<li>The <code>ReadFromYaml()</code> reads data in from YAML files,</li>
<li>the <code>SaveToYaml()</code> saves data into a YAML format file.</li>
</ul>
<details >
  <summary>Show the `yaml.go` file</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">impex</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;gopkg.in/yaml.v2&#34;</span>
	<span style="color:#e6db74">&#34;io/ioutil&#34;</span>
	<span style="color:#e6db74">&#34;log&#34;</span>
	<span style="color:#a6e22e">path</span> <span style="color:#e6db74">&#34;path/filepath&#34;</span>
)

<span style="color:#75715e">// Read YAML file and unmarshal its content into the `dst` data structure,
</span><span style="color:#75715e">// using the `yaml` annotation of the structs.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ReadFromYaml</span>(<span style="color:#a6e22e">yamlPath</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">dst</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span> {

	<span style="color:#a6e22e">absPath</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">Abs</span>(<span style="color:#a6e22e">yamlPath</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}

	<span style="color:#a6e22e">buf</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">ReadFile</span>(<span style="color:#a6e22e">absPath</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}

	<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">yaml</span>.<span style="color:#a6e22e">Unmarshal</span>([]byte(<span style="color:#a6e22e">buf</span>), <span style="color:#a6e22e">dst</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;YAML unmarshal error: %v&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}
	<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>
}

<span style="color:#75715e">// Marshal the content from the `dst` data structure, and savel into a YAML file
</span><span style="color:#75715e">// using the `yaml` annotation of the structs.
</span><span style="color:#75715e"></span><span style="color:#66d9ef">func</span> <span style="color:#a6e22e">SaveToYaml</span>(<span style="color:#a6e22e">yamlPath</span> <span style="color:#66d9ef">string</span>, <span style="color:#a6e22e">src</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#66d9ef">error</span> {
	<span style="color:#a6e22e">buf</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">yaml</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">src</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}

	<span style="color:#a6e22e">absPath</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">path</span>.<span style="color:#a6e22e">Abs</span>(<span style="color:#a6e22e">yamlPath</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%s&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">err</span>
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">ioutil</span>.<span style="color:#a6e22e">WriteFile</span>(<span style="color:#a6e22e">absPath</span>, <span style="color:#a6e22e">buf</span>, <span style="color:#ae81ff">0644</span>)
}

</code></pre></div>
  </div>
</details>

<h2 id="define-structures-with-annotations">
  Define structures with annotations
  <a class="anchor" href="#define-structures-with-annotations">#</a>
</h2>
<p>The description of the bookmark objects, and their schema annotations are placed into the <code>bookmarks.go</code> file, as well as the functions to import and export these objects.</p>
<details >
  <summary>Show the `bookmarks.go` file</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;context&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley/graph&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley/schema&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/quad&#34;</span>
	<span style="color:#e6db74">&#34;github.com/tombenke/cayley-cookbook-src/kbase/impex&#34;</span>
	<span style="color:#e6db74">&#34;log&#34;</span>
)

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Bookmarks</span> []<span style="color:#a6e22e">Bookmark</span>

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">Bookmark</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">ID</span>        <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span> <span style="color:#e6db74">`yaml:&#34;id&#34; quad:&#34;id&#34;`</span>
	<span style="color:#a6e22e">Title</span>     <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`yaml:&#34;title&#34; quad:&#34;title&#34;`</span>
	<span style="color:#a6e22e">Content</span>   <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`yaml:&#34;content&#34; quad:&#34;content,optional&#34;`</span>
	<span style="color:#a6e22e">Author</span>    <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`yaml:&#34;author&#34; quad:&#34;author,optional&#34;`</span>
	<span style="color:#a6e22e">Published</span> <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`yaml:&#34;published&#34; quad:&#34;published,optional&#34;`</span>
	<span style="color:#a6e22e">Tags</span>      []<span style="color:#66d9ef">string</span> <span style="color:#e6db74">`yaml:&#34;tags,flow&#34; quad:&#34;tags&#34;`</span>
	<span style="color:#a6e22e">Urls</span>      []<span style="color:#66d9ef">string</span> <span style="color:#e6db74">`yaml:&#34;urls,flow&#34; quad:&#34;urls&#34;`</span>
}

<span style="color:#66d9ef">type</span> <span style="color:#a6e22e">BookmarkShort</span> <span style="color:#66d9ef">struct</span> {
	<span style="color:#a6e22e">ID</span>    <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span> <span style="color:#e6db74">`yaml:&#34;id&#34; quad:&#34;id&#34;`</span>
	<span style="color:#a6e22e">Title</span> <span style="color:#66d9ef">string</span>   <span style="color:#e6db74">`yaml:&#34;title&#34; quad:&#34;title&#34;`</span>
	<span style="color:#a6e22e">Urls</span>  []<span style="color:#66d9ef">string</span> <span style="color:#e6db74">`yaml:&#34;urls,flow&#34; quad:&#34;urls&#34;`</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {
	<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">RegisterType</span>(<span style="color:#e6db74">&#34;Bookmark&#34;</span>, <span style="color:#a6e22e">Bookmark</span>{})
	<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">RegisterType</span>(<span style="color:#e6db74">&#34;BookmarkShort&#34;</span>, <span style="color:#a6e22e">BookmarkShort</span>{})
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">Import</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>, <span style="color:#a6e22e">dbPath</span> <span style="color:#66d9ef">string</span>) {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bm</span> <span style="color:#a6e22e">Bookmarks</span>
	<span style="color:#a6e22e">impex</span>.<span style="color:#a6e22e">ReadFromYaml</span>(<span style="color:#a6e22e">dbPath</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">bm</span>)
	<span style="color:#a6e22e">qw</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">graph</span>.<span style="color:#a6e22e">NewWriter</span>(<span style="color:#a6e22e">store</span>)
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">qw</span>.<span style="color:#a6e22e">Close</span>() <span style="color:#75715e">// don&#39;t forget to close a writer; it has some internal buffering
</span><span style="color:#75715e"></span>	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">b</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">bm</span> {
		<span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">WriteAsQuads</span>(<span style="color:#a6e22e">qw</span>, <span style="color:#a6e22e">b</span>)
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Fatalf</span>(<span style="color:#e6db74">&#34;%v&#34;</span>, <span style="color:#a6e22e">err</span>)
		}
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">GetAllShortBookmarks</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>) (<span style="color:#a6e22e">Bookmarks</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bms</span> <span style="color:#a6e22e">Bookmarks</span>
	<span style="color:#75715e">//p := cayley.StartPath(store).Has(quad.IRI(&#34;rdf:type&#34;), quad.IRI(&#34;Bookmark&#34;))
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">StartPath</span>(<span style="color:#a6e22e">store</span>, <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;Bookmark&#34;</span>)).<span style="color:#a6e22e">In</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;rdf:type&#34;</span>))
	<span style="color:#a6e22e">schemaConfig</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">NewConfig</span>()
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Iterate</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>()).<span style="color:#a6e22e">EachValuePair</span>(<span style="color:#66d9ef">nil</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ref</span> <span style="color:#a6e22e">graph</span>.<span style="color:#a6e22e">Ref</span>, <span style="color:#a6e22e">value</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) {
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">Bookmark</span>
		<span style="color:#a6e22e">schemaConfig</span>.<span style="color:#a6e22e">LoadTo</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">store</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">value</span>)
		<span style="color:#75715e">//log.Printf(&#34;%v, %v, %v\n&#34;, reflect.TypeOf(ref), ref.Key(), b)
</span><span style="color:#75715e"></span>		<span style="color:#a6e22e">bms</span> = append(<span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">b</span>)
	})

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%v&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bms</span>, <span style="color:#66d9ef">nil</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">GetAllBookmarks</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>) (<span style="color:#a6e22e">Bookmarks</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bms</span> <span style="color:#a6e22e">Bookmarks</span>
	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">StartPath</span>(<span style="color:#a6e22e">store</span>, <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;Bookmark&#34;</span>)).<span style="color:#a6e22e">In</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;rdf:type&#34;</span>))
	<span style="color:#a6e22e">schemaConfig</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">NewConfig</span>()
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Iterate</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>()).<span style="color:#a6e22e">EachValuePair</span>(<span style="color:#66d9ef">nil</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">ref</span> <span style="color:#a6e22e">graph</span>.<span style="color:#a6e22e">Ref</span>, <span style="color:#a6e22e">value</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) {
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">Bookmark</span>
		<span style="color:#a6e22e">schemaConfig</span>.<span style="color:#a6e22e">LoadTo</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">store</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">value</span>)
		<span style="color:#a6e22e">bms</span> = append(<span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">b</span>)
	})

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;%v&#34;</span>, <span style="color:#a6e22e">err</span>)
		<span style="color:#66d9ef">return</span> <span style="color:#66d9ef">nil</span>, <span style="color:#a6e22e">err</span>
	}

	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bms</span>, <span style="color:#66d9ef">nil</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">FindBookmarksByAnyTag</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>, <span style="color:#a6e22e">tags</span> []<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) (<span style="color:#a6e22e">Bookmarks</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#a6e22e">schemaConfig</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">NewConfig</span>()
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bms</span> <span style="color:#a6e22e">Bookmarks</span>
	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">StartPath</span>(<span style="color:#a6e22e">store</span>).<span style="color:#a6e22e">Has</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;rdf:type&#34;</span>), <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;Bookmark&#34;</span>)).<span style="color:#a6e22e">Has</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;tags&#34;</span>), <span style="color:#a6e22e">tags</span><span style="color:#f92672">...</span>)
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Iterate</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>()).<span style="color:#a6e22e">EachValue</span>(<span style="color:#66d9ef">nil</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">value</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) {
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">Bookmark</span>
		<span style="color:#a6e22e">schemaConfig</span>.<span style="color:#a6e22e">LoadTo</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">store</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">value</span>)
		<span style="color:#a6e22e">bms</span> = append(<span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">b</span>)
	})
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">err</span>
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">FindBookmarksByEveryTag</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>, <span style="color:#a6e22e">tags</span> []<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) (<span style="color:#a6e22e">Bookmarks</span>, <span style="color:#66d9ef">error</span>) {
	<span style="color:#a6e22e">schemaConfig</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">NewConfig</span>()
	<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">bms</span> <span style="color:#a6e22e">Bookmarks</span>
	<span style="color:#a6e22e">bookmarksMorph</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">StartPath</span>(<span style="color:#a6e22e">store</span>).<span style="color:#a6e22e">Has</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;rdf:type&#34;</span>), <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;Bookmark&#34;</span>))
	<span style="color:#a6e22e">p</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">bookmarksMorph</span>
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">tags</span> {
		<span style="color:#a6e22e">p</span> = <span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">StartPath</span>(<span style="color:#a6e22e">store</span>).<span style="color:#a6e22e">Follow</span>(<span style="color:#a6e22e">p</span>).<span style="color:#a6e22e">Has</span>(<span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#e6db74">&#34;tags&#34;</span>), <span style="color:#a6e22e">t</span>)
	}
	<span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">p</span>.<span style="color:#a6e22e">Iterate</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>()).<span style="color:#a6e22e">EachValue</span>(<span style="color:#66d9ef">nil</span>, <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">value</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span>) {
		<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">b</span> <span style="color:#a6e22e">Bookmark</span>
		<span style="color:#a6e22e">schemaConfig</span>.<span style="color:#a6e22e">LoadTo</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#a6e22e">store</span>, <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">b</span>, <span style="color:#a6e22e">value</span>)
		<span style="color:#a6e22e">bms</span> = append(<span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">b</span>)
	})
	<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">bms</span>, <span style="color:#a6e22e">err</span>
}

</code></pre></div>
  </div>
</details>

<p>In the source code there are two structures defined:</p>
<ul>
<li>The <code>Bookmark</code> which is the full variant,</li>
<li>ant the <code>BookmarkShort</code> which is a simplified variant.</li>
</ul>
<p>In the <code>struct</code> declaration we placed the annotations to the <code>yaml</code> and <code>quad</code> serialization/deserialization. So these annotations can be used for both formats.</p>
<h2 id="data-import-based-on-annotated-structures">
  Data import based on annotated structures
  <a class="anchor" href="#data-import-based-on-annotated-structures">#</a>
</h2>
<p>First we read the data into a <code>[]Bookmarks</code> variable, then upload it into the store.
For the uploading, we use the <code>schema.WriteAsQuads()</code> that is defined in the <code>&quot;github.com/cayleygraph/cayley/schema&quot;</code> package-ben, as we can see in the example in the <code>import_bookmarks_with_schema.go</code> file.</p>
<details >
  <summary>Show the `import_bookmarks_with_schema.go` file</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;context&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley/schema&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/quad&#34;</span>
	<span style="color:#a6e22e">uuid</span> <span style="color:#e6db74">&#34;github.com/satori/go.uuid&#34;</span>
	<span style="color:#e6db74">&#34;github.com/tombenke/cayley-cookbook-src/kbase&#34;</span>
)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bookmarksFixtures</span> = <span style="color:#e6db74">&#34;./bookmarks.yml&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {
	<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">GenerateID</span> = <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">o</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span> {
		<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">o</span>.(<span style="color:#66d9ef">type</span>) {
		<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Bookmark</span>:
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#a6e22e">o</span>.(<span style="color:#a6e22e">Bookmark</span>).<span style="color:#a6e22e">ID</span>)
		<span style="color:#66d9ef">default</span>:
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#a6e22e">uuid</span>.<span style="color:#a6e22e">NewV4</span>().<span style="color:#a6e22e">String</span>())
		}
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#a6e22e">ImportBookmarksWithSchema</span>()
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ImportBookmarksWithSchema</span>() {
	<span style="color:#75715e">// Create an in-memory store
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">store</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">kbase</span>.<span style="color:#a6e22e">InitStore</span>()

	<span style="color:#75715e">// Load Bookmarks from YAML and upload into the mem-store
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Import</span>(<span style="color:#a6e22e">store</span>, <span style="color:#a6e22e">bookmarksFixtures</span>)

	<span style="color:#75715e">// Check if Bookmarks have been uploaded
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">stats</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">store</span>.<span style="color:#a6e22e">Stats</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#66d9ef">true</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		panic(<span style="color:#a6e22e">err</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Successfully imported bookmarks into the mem-store as %d nodes and %d quads.\n&#34;</span>, <span style="color:#a6e22e">stats</span>.<span style="color:#a6e22e">Nodes</span>.<span style="color:#a6e22e">Size</span>, <span style="color:#a6e22e">stats</span>.<span style="color:#a6e22e">Quads</span>.<span style="color:#a6e22e">Size</span>)
	}
}

</code></pre></div>
  </div>
</details>

<p>Run the program:
<a href="https://repl.it/@tombenke/cayley-cookbook-src#schema/import_bookmarks_with_schema.go"><img src="https://repl.it/badge/github/tombenke/cayley-cookbook-src" alt="Run this code on Repl.it" /></a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    cd schema
    go run impex_bookmarks_with_schema.go yamlImpex.go store.go bookmarks.go
</code></pre></div><p>The results:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Successfully imported bookmarks into the mem-store as 176 nodes and 245 quads.

</code></pre></div><h2 id="data-export-based-on-annotated-structures">
  Data export based on annotated structures
  <a class="anchor" href="#data-export-based-on-annotated-structures">#</a>
</h2>
<p>The export operation begins similarly to the import operation.
First we read the data in from the YAML file, then we upload it into the store.</p>
<p>The we retrieve all the Bookmarks from the store within the following two functions:</p>
<ul>
<li>The <code>GetAllBookmarks()</code> function will show the results with full details,</li>
<li>the <code>GetAllShortBookmarks()</code> will show the simplified version.</li>
</ul>
<p>Both functions are implemented in the <code>bookmarks.go</code> file, and they use the <code>schemaConfig.LoadTo()</code> method to collect the properties of the resulted objects. In order to call this method, first we need to create a <code>schemaConfig</code> object, using the <code>schema.NewConfig()</code> function.</p>
<details >
  <summary>Show the `impex_bookmarks_with_schema.go` file</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#f92672">package</span> <span style="color:#a6e22e">main</span>

<span style="color:#f92672">import</span> (
	<span style="color:#e6db74">&#34;context&#34;</span>
	<span style="color:#e6db74">&#34;fmt&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/cayley/schema&#34;</span>
	<span style="color:#e6db74">&#34;github.com/cayleygraph/quad&#34;</span>
	<span style="color:#a6e22e">uuid</span> <span style="color:#e6db74">&#34;github.com/satori/go.uuid&#34;</span>
	<span style="color:#e6db74">&#34;github.com/tombenke/cayley-cookbook-src/kbase&#34;</span>
)

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">bookmarksFixtures</span> = <span style="color:#e6db74">&#34;./bookmarks.yml&#34;</span>

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">init</span>() {
	<span style="color:#a6e22e">schema</span>.<span style="color:#a6e22e">GenerateID</span> = <span style="color:#66d9ef">func</span>(<span style="color:#a6e22e">o</span> <span style="color:#66d9ef">interface</span>{}) <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">Value</span> {
		<span style="color:#66d9ef">switch</span> <span style="color:#a6e22e">o</span>.(<span style="color:#66d9ef">type</span>) {
		<span style="color:#66d9ef">case</span> <span style="color:#a6e22e">Bookmark</span>:
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#a6e22e">o</span>.(<span style="color:#a6e22e">Bookmark</span>).<span style="color:#a6e22e">ID</span>)
		<span style="color:#66d9ef">default</span>:
			<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">quad</span>.<span style="color:#a6e22e">IRI</span>(<span style="color:#a6e22e">uuid</span>.<span style="color:#a6e22e">NewV4</span>().<span style="color:#a6e22e">String</span>())
		}
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">main</span>() {
	<span style="color:#75715e">// Create an in-memory store
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">store</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">kbase</span>.<span style="color:#a6e22e">InitStore</span>()

	<span style="color:#75715e">// Import bookmarks data from yaml using the `Bookmark` schema
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">ImportBookmarksWithSchema</span>(<span style="color:#a6e22e">store</span>)

	<span style="color:#75715e">// Find all Bookmarks, and convert to and array of object using `Bookmark` schema.
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">bookmarks</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">GetAllBookmarks</span>(<span style="color:#a6e22e">store</span>)
	<span style="color:#a6e22e">printBookmarks</span>(<span style="color:#a6e22e">bookmarks</span>)

	<span style="color:#75715e">// Find all Bookmarks, and convert to and array of object using `ShortBookmark` schema.
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">shortBookmarks</span>, <span style="color:#a6e22e">_</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">GetAllShortBookmarks</span>(<span style="color:#a6e22e">store</span>)
	<span style="color:#a6e22e">printShortBookmarks</span>(<span style="color:#a6e22e">shortBookmarks</span>)
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">ImportBookmarksWithSchema</span>(<span style="color:#a6e22e">store</span> <span style="color:#f92672">*</span><span style="color:#a6e22e">cayley</span>.<span style="color:#a6e22e">Handle</span>) {

	<span style="color:#75715e">// Load Bookmarks from YAML and upload into the mem-store
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">Import</span>(<span style="color:#a6e22e">store</span>, <span style="color:#a6e22e">bookmarksFixtures</span>)

	<span style="color:#75715e">// Check if Bookmarks have been uploaded
</span><span style="color:#75715e"></span>	<span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">store</span>.<span style="color:#a6e22e">Stats</span>(<span style="color:#a6e22e">context</span>.<span style="color:#a6e22e">Background</span>(), <span style="color:#66d9ef">true</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		panic(<span style="color:#a6e22e">err</span>)
	} <span style="color:#66d9ef">else</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Successfully imported bookmarks into the mem-store.\n&#34;</span>)
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">printBookmarks</span>(<span style="color:#a6e22e">bookmarks</span> <span style="color:#a6e22e">Bookmarks</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;\nFull Bookmarks:&#34;</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">bookmark</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">bookmarks</span> {
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Author</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span> {
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;- \&#34;%s\&#34;\n&#34;</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Title</span>)
		} <span style="color:#66d9ef">else</span> {
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;- \&#34;%s\&#34; by %s\n\n&#34;</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Title</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Author</span>)
		}
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;  %s\n\n&#34;</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Urls</span>[<span style="color:#ae81ff">0</span>])
	}
}

<span style="color:#66d9ef">func</span> <span style="color:#a6e22e">printShortBookmarks</span>(<span style="color:#a6e22e">bookmarks</span> <span style="color:#a6e22e">Bookmarks</span>) {
	<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;\nShort Bookmarks:&#34;</span>)
	<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">bookmark</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">bookmarks</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;- \&#34;%s\&#34;\n&#34;</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Title</span>)
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;  %s\n\n&#34;</span>, <span style="color:#a6e22e">bookmark</span>.<span style="color:#a6e22e">Urls</span>[<span style="color:#ae81ff">0</span>])
	}
}

</code></pre></div>
  </div>
</details>

<p>Run the program:
<a href="https://repl.it/@tombenke/cayley-cookbook-src#schema/impex_bookmarks_with_schema.go"><img src="https://repl.it/badge/github/tombenke/cayley-cookbook-src" alt="Run this code on Repl.it" /></a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">    cd schema
    go run impex_bookmarks_with_schema.go yamlImpex.go store.go bookmarks.go
</code></pre></div><p>The results:</p>
<details >
  <summary>Show the results</summary>
  <div class="markdown-inner">
    <div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-txt" data-lang="txt">Successfully imported bookmarks into the mem-store.

Full Bookmarks:
- &#34;Gremlin&#39;s Graph Traversal Machinery&#34;
  https://www.slideshare.net/slidarko/gremlins-graph-traversal-machinery

- &#34;Ontotext GraphDB&#34;
  https://ontotext.com/products/graphdb/

- &#34;Graphs and neural networks: Reading node properties&#34; by David Mack

  https://medium.com/octavian-ai/graphs-and-neural-networks-reading-node-properties-2c91625980eb

- &#34;Towards building the next generation database query engine&#34; by David Mack

  https://medium.com/octavian-ai/towards-building-the-next-generation-database-query-engine-a1beca1e07a3

- &#34;extracting-knowledge-from-knowledge-graphs&#34;
  https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0

- &#34;Platypus&#34;
  https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/A_gentle_introduction_to_the_Wikidata_Query_Service

- &#34;Grakn.AI - learn&#34;
  https://blog.grakn.ai/learn/home

- &#34;KagNet: Knowledge-Aware Graph Networks for Commonsense Reasoning&#34;
  https://github.com/INK-USC/KagNet

- &#34;Knowledge extraction from unstructured texts&#34; by Heuritech

  https://medium.com/heuritech/knowledge-extraction-from-unstructured-texts-c279e3b8f92f

- &#34;Deep Learning with Knowledge Graphs&#34; by Andrew Jefferson

  https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a

- &#34;MacGraph&#34;
  https://github.com/Octavian-ai/mac-graph

- &#34;octavian.ai&#34;
  https://www.octavian.ai/

- &#34;Build your own Knowledge Graph From unstructured dark data to valuable business insights&#34; by Ignaz Wanders

  https://medium.com/vectrconsulting/build-your-own-knowledge-graph-975cf6dde67f

- &#34;Extracting knowledge from knowledge graphs using Facebook Pytorch BigGraph.&#34;
  https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0

- &#34;Deep Learning with Knowledge Graphs&#34;
  https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a

- &#34;Knowledge Graphs in Natural Language Processing @ ACL 2020&#34; by Michael Galkin

  https://towardsdatascience.com/knowledge-graphs-in-natural-language-processing-acl-2020-ebb1f0a6e0b1

- &#34;Blog-Rolling-with-BrightstarDB-Express-and-Node-js&#34;
  https://www.codeproject.com/Articles/419181/Blog-Rolling-with-BrightstarDB-Express-and-Node-js

- &#34;FOAF Vocabulary Specification 0.99&#34;
  http://xmlns.com/foaf/spec/

- &#34;SuperMemo Website&#34;
  https://www.supermemo.com/en/archives1990-2015/articles/devour

- &#34;Gellish.net&#34;
  https://www.gellish.net/

- &#34;Semantic Web and Model-Driven Engineering&#34;
  http://www.allitebooks.org/semantic-web-and-model-driven-engineering/

- &#34;MRD, Machine Readable dictionary&#34;
  https://en.wikipedia.org/wiki/Machine-readable_dictionary


Short Bookmarks:
- &#34;Gremlin&#39;s Graph Traversal Machinery&#34;
  https://www.slideshare.net/slidarko/gremlins-graph-traversal-machinery

- &#34;Ontotext GraphDB&#34;
  https://ontotext.com/products/graphdb/

- &#34;Graphs and neural networks: Reading node properties&#34;
  https://medium.com/octavian-ai/graphs-and-neural-networks-reading-node-properties-2c91625980eb

- &#34;Towards building the next generation database query engine&#34;
  https://medium.com/octavian-ai/towards-building-the-next-generation-database-query-engine-a1beca1e07a3

- &#34;extracting-knowledge-from-knowledge-graphs&#34;
  https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0

- &#34;Platypus&#34;
  https://www.wikidata.org/wiki/Wikidata:SPARQL_query_service/A_gentle_introduction_to_the_Wikidata_Query_Service

- &#34;Grakn.AI - learn&#34;
  https://blog.grakn.ai/learn/home

- &#34;KagNet: Knowledge-Aware Graph Networks for Commonsense Reasoning&#34;
  https://github.com/INK-USC/KagNet

- &#34;Knowledge extraction from unstructured texts&#34;
  https://medium.com/heuritech/knowledge-extraction-from-unstructured-texts-c279e3b8f92f

- &#34;Deep Learning with Knowledge Graphs&#34;
  https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a

- &#34;MacGraph&#34;
  https://github.com/Octavian-ai/mac-graph

- &#34;octavian.ai&#34;
  https://www.octavian.ai/

- &#34;Build your own Knowledge Graph From unstructured dark data to valuable business insights&#34;
  https://medium.com/vectrconsulting/build-your-own-knowledge-graph-975cf6dde67f

- &#34;Extracting knowledge from knowledge graphs using Facebook Pytorch BigGraph.&#34;
  https://towardsdatascience.com/extracting-knowledge-from-knowledge-graphs-e5521e4861a0

- &#34;Deep Learning with Knowledge Graphs&#34;
  https://medium.com/octavian-ai/deep-learning-with-knowledge-graphs-3df0b469a61a

- &#34;Knowledge Graphs in Natural Language Processing @ ACL 2020&#34;
  https://towardsdatascience.com/knowledge-graphs-in-natural-language-processing-acl-2020-ebb1f0a6e0b1

- &#34;Blog-Rolling-with-BrightstarDB-Express-and-Node-js&#34;
  https://www.codeproject.com/Articles/419181/Blog-Rolling-with-BrightstarDB-Express-and-Node-js

- &#34;FOAF Vocabulary Specification 0.99&#34;
  http://xmlns.com/foaf/spec/

- &#34;SuperMemo Website&#34;
  https://www.supermemo.com/en/archives1990-2015/articles/devour

- &#34;Gellish.net&#34;
  https://www.gellish.net/

- &#34;Semantic Web and Model-Driven Engineering&#34;
  http://www.allitebooks.org/semantic-web-and-model-driven-engineering/

- &#34;MRD, Machine Readable dictionary&#34;
  https://en.wikipedia.org/wiki/Machine-readable_dictionary


</code></pre></div>
  </div>
</details>

<hr />
<p>


Related pages:

</p>

</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">

  


  

  


  


<div class="book-languages" tabindex="0" aria-haspopup="true">
  <ul>
    <li class="flex align-center">
      <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
      English
    </li> 
  </ul>

  <ul class="book-languages-list">
    
    <li class="active">
      <a href="https://tombenke.github.io/cayley-cookbook/" class="flex align-center">
        <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
        English
      </a>
    </li>
    
    <li class="">
      <a href="https://tombenke.github.io/cayley-cookbook/hu/docs/working-with-cayley/impex/schema/" class="flex align-center">
        <img src="/cayley-cookbook/svg/translate.svg" class="book-icon" alt="Languages" />
        Magyar
      </a>
    </li>
    
  </ul>
</div>






</div>

 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      
  <nav id="TableOfContents">
  <ul>
    <li><a href="#structure-annotations">Structure annotations</a></li>
    <li><a href="#create-store">Create store</a></li>
    <li><a href="#test-data">Test data</a></li>
    <li><a href="#define-structures-with-annotations">Define structures with annotations</a></li>
    <li><a href="#data-import-based-on-annotated-structures">Data import based on annotated structures</a></li>
    <li><a href="#data-export-based-on-annotated-structures">Data export based on annotated structures</a></li>
  </ul>
</nav>

 
    </aside>
    
  </main>

  
</body>

</html>












